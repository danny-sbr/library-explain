import{g as L,_ as M}from"./CodeBlock-DvypjMrG.js";import{r as D,b as C,d as T,g as y,t as j,e as S,w as O,c as B,f as w,F as U}from"./index-DzsSlbU1.js";var A={exports:{}};(function(x,P){(function(f,n){x.exports=n()})(window,function(){return function(c){var f={};function n(r){if(f[r])return f[r].exports;var a=f[r]={i:r,l:!1,exports:{}};return c[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=c,n.c=f,n.d=function(r,a,s){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(a&1&&(r=n(r)),a&8||a&4&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),a&2&&typeof r!="string")for(var m in r)n.d(s,m,(function(i){return r[i]}).bind(null,m));return s},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="",n(n.s=0)}({"./src/index.js":function(c,f,n){n.r(f),n("./src/sass/index.scss");var r=n("./src/js/init.js"),a=r.default.init;typeof window<"u"&&(window.printJS=a),f.default=a},"./src/js/browser.js":function(c,f,n){n.r(f);var r={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!s.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};f.default=r},"./src/js/functions.js":function(c,f,n){n.r(f),n.d(f,"addWrapper",function(){return m}),n.d(f,"capitalizePrint",function(){return i}),n.d(f,"collectStyles",function(){return l}),n.d(f,"addHeader",function(){return e}),n.d(f,"cleanUp",function(){return b}),n.d(f,"isRawHTML",function(){return p});var r=n("./src/js/modal.js"),a=n("./src/js/browser.js");function s(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(u){return typeof u}:s=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(t)}function m(t,d){var u="font-family:"+d.font+" !important; font-size: "+d.font_size+" !important; width:100%;";return'<div style="'+u+'">'+t+"</div>"}function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}function l(t,d){for(var u=document.defaultView||window,h="",g=u.getComputedStyle(t,""),E=0;E<g.length;E++)(d.targetStyles.indexOf("*")!==-1||d.targetStyle.indexOf(g[E])!==-1||o(d.targetStyles,g[E]))&&g.getPropertyValue(g[E])&&(h+=g[E]+":"+g.getPropertyValue(g[E])+";");return h+="max-width: "+d.maxWidth+"px !important; font-size: "+d.font_size+" !important;",h}function o(t,d){for(var u=0;u<t.length;u++)if(s(d)==="object"&&d.indexOf(t[u])!==-1)return!0;return!1}function e(t,d){var u=document.createElement("div");if(p(d.header))u.innerHTML=d.header;else{var h=document.createElement("h1"),g=document.createTextNode(d.header);h.appendChild(g),h.setAttribute("style",d.headerStyle),u.appendChild(h)}t.insertBefore(u,t.childNodes[0])}function b(t){t.showModal&&r.default.close(),t.onLoadingEnd&&t.onLoadingEnd(),(t.showModal||t.onLoadingStart)&&window.URL.revokeObjectURL(t.printable);var d="mouseover";(a.default.isChrome()||a.default.isFirefox())&&(d="focus");var u=function h(){window.removeEventListener(d,h),t.onPrintDialogClose();var g=document.getElementById(t.frameId);g&&g.remove()};window.addEventListener(d,u)}function p(t){var d=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return d.test(t)}},"./src/js/html.js":function(c,f,n){n.r(f);var r=n("./src/js/functions.js"),a=n("./src/js/print.js");function s(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(e){return typeof e}:s=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(l)}f.default={print:function(o,e){var b=i(o.printable)?o.printable:document.getElementById(o.printable);if(!b){window.console.error("Invalid HTML element id: "+o.printable);return}o.printableElement=m(b,o),o.header&&Object(r.addHeader)(o.printableElement,o),a.default.send(o,e)}};function m(l,o){for(var e=l.cloneNode(),b=Array.prototype.slice.call(l.childNodes),p=0;p<b.length;p++)if(o.ignoreElements.indexOf(b[p].id)===-1){var t=m(b[p],o);e.appendChild(t)}switch(o.scanStyles&&l.nodeType===1&&e.setAttribute("style",Object(r.collectStyles)(l,o)),l.tagName){case"SELECT":e.value=l.value;break;case"CANVAS":e.getContext("2d").drawImage(l,0,0);break}return e}function i(l){return s(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(c,f,n){n.r(f);var r=n("./src/js/functions.js"),a=n("./src/js/print.js"),s=n("./src/js/browser.js");f.default={print:function(i,l){i.printable.constructor!==Array&&(i.printable=[i.printable]),i.printableElement=document.createElement("div"),i.printable.forEach(function(o){var e=document.createElement("img");if(e.setAttribute("style",i.imageStyle),e.src=o,s.default.isFirefox()){var b=e.src;e.src=b}var p=document.createElement("div");p.appendChild(e),i.printableElement.appendChild(p)}),i.header&&Object(r.addHeader)(i.printableElement,i),a.default.send(i,l)}}},"./src/js/init.js":function(c,f,n){n.r(f);var r=n("./src/js/browser.js"),a=n("./src/js/modal.js"),s=n("./src/js/pdf.js"),m=n("./src/js/html.js"),i=n("./src/js/raw-html.js"),l=n("./src/js/image.js"),o=n("./src/js/json.js");function e(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(d){return typeof d}:e=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(p)}var b=["pdf","html","image","json","raw-html"];f.default={init:function(){var t={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(I){throw I},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},d=arguments[0];if(d===void 0)throw new Error("printJS expects at least 1 attribute.");switch(e(d)){case"string":t.printable=encodeURI(d),t.fallbackPrintable=t.printable,t.type=arguments[1]||t.type;break;case"object":t.printable=d.printable,t.fallbackPrintable=typeof d.fallbackPrintable<"u"?d.fallbackPrintable:t.printable,t.fallbackPrintable=t.base64?"data:application/pdf;base64,".concat(t.fallbackPrintable):t.fallbackPrintable;for(var u in t)u==="printable"||u==="fallbackPrintable"||(t[u]=typeof d[u]<"u"?d[u]:t[u]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+e(d))}if(!t.printable)throw new Error("Missing printable information.");if(!t.type||typeof t.type!="string"||b.indexOf(t.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");t.showModal&&a.default.show(t),t.onLoadingStart&&t.onLoadingStart();var h=document.getElementById(t.frameId);h&&h.parentNode.removeChild(h);var g=document.createElement("iframe");switch(r.default.isFirefox()?g.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):g.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),g.setAttribute("id",t.frameId),t.type!=="pdf"&&(g.srcdoc="<html><head><title>"+t.documentTitle+"</title>",t.css&&(Array.isArray(t.css)||(t.css=[t.css]),t.css.forEach(function(v){g.srcdoc+='<link rel="stylesheet" href="'+v+'">'})),g.srcdoc+="</head><body></body></html>"),t.type){case"pdf":if(r.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var E=window.open(t.fallbackPrintable,"_blank");E.focus(),t.onIncompatibleBrowser()}catch(v){t.onError(v)}finally{t.showModal&&a.default.close(),t.onLoadingEnd&&t.onLoadingEnd()}else s.default.print(t,g);break;case"image":l.default.print(t,g);break;case"html":m.default.print(t,g);break;case"raw-html":i.default.print(t,g);break;case"json":o.default.print(t,g);break}}}},"./src/js/json.js":function(c,f,n){n.r(f);var r=n("./src/js/functions.js"),a=n("./src/js/print.js");function s(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(o){return typeof o}:s=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},s(i)}f.default={print:function(l,o){if(s(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(e){return{field:s(e)==="object"?e.field:e,displayName:s(e)==="object"?e.displayName:e,columnSize:s(e)==="object"&&e.columnSize?e.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(r.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=m(l),a.default.send(l,o)}};function m(i){var l=i.printable,o=i.properties,e='<table style="border-collapse: collapse; width: 100%;">';i.repeatTableHeader&&(e+="<thead>"),e+="<tr>";for(var b=0;b<o.length;b++)e+='<th style="width:'+o[b].columnSize+";"+i.gridHeaderStyle+'">'+Object(r.capitalizePrint)(o[b].displayName)+"</th>";e+="</tr>",i.repeatTableHeader&&(e+="</thead>"),e+="<tbody>";for(var p=0;p<l.length;p++){e+="<tr>";for(var t=0;t<o.length;t++){var d=l[p],u=o[t].field.split(".");if(u.length>1)for(var h=0;h<u.length;h++)d=d[u[h]];else d=d[o[t].field];e+='<td style="width:'+o[t].columnSize+i.gridStyle+'">'+d+"</td>"}e+="</tr>"}return e+="</tbody></table>",e}},"./src/js/modal.js":function(c,f,n){n.r(f);var r={show:function(s){var m="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",i=document.createElement("div");i.setAttribute("style",m),i.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var o=document.createElement("div");o.setAttribute("class","printClose"),o.setAttribute("id","printClose"),l.appendChild(o);var e=document.createElement("span");e.setAttribute("class","printSpinner"),l.appendChild(e);var b=document.createTextNode(s.modalMessage);l.appendChild(b),i.appendChild(l),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("printClose").addEventListener("click",function(){r.close()})},close:function(){var s=document.getElementById("printJS-Modal");s&&s.parentNode.removeChild(s)}};f.default=r},"./src/js/pdf.js":function(c,f,n){n.r(f);var r=n("./src/js/print.js"),a=n("./src/js/functions.js");f.default={print:function(i,l){if(i.base64){var o=Uint8Array.from(atob(i.printable),function(b){return b.charCodeAt(0)});s(i,l,o);return}i.printable=/^(blob|http|\/\/)/i.test(i.printable)?i.printable:window.location.origin+(i.printable.charAt(0)!=="/"?"/"+i.printable:i.printable);var e=new window.XMLHttpRequest;e.responseType="arraybuffer",e.addEventListener("error",function(){Object(a.cleanUp)(i),i.onError(e.statusText,e)}),e.addEventListener("load",function(){if([200,201].indexOf(e.status)===-1){Object(a.cleanUp)(i),i.onError(e.statusText,e);return}s(i,l,e.response)}),e.open("GET",i.printable,!0),e.send()}};function s(m,i,l){var o=new window.Blob([l],{type:"application/pdf"});o=window.URL.createObjectURL(o),i.setAttribute("src",o),r.default.send(m,i)}},"./src/js/print.js":function(c,f,n){n.r(f);var r=n("./src/js/browser.js"),a=n("./src/js/functions.js"),s={send:function(e,b){document.getElementsByTagName("body")[0].appendChild(b);var p=document.getElementById(e.frameId);p.onload=function(){if(e.type==="pdf"){r.default.isFirefox()?setTimeout(function(){return m(p,e)},1e3):m(p,e);return}var t=p.contentWindow||p.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),e.type!=="pdf"&&e.style){var d=document.createElement("style");d.innerHTML=e.style,t.head.appendChild(d)}var u=t.getElementsByTagName("img");u.length>0?i(Array.from(u)).then(function(){return m(p,e)}):m(p,e)}}};function m(o,e){try{if(o.focus(),r.default.isEdge()||r.default.isIE())try{o.contentWindow.document.execCommand("print",!1,null)}catch{o.contentWindow.print()}else o.contentWindow.print()}catch(b){e.onError(b)}finally{r.default.isFirefox()&&(o.style.visibility="hidden",o.style.left="-1px"),Object(a.cleanUp)(e)}}function i(o){var e=o.map(function(b){if(b.src&&b.src!==window.location.href)return l(b)});return Promise.all(e)}function l(o){return new Promise(function(e){var b=function p(){!o||typeof o.naturalWidth>"u"||o.naturalWidth===0||!o.complete?setTimeout(p,500):e()};b()})}f.default=s},"./src/js/raw-html.js":function(c,f,n){n.r(f);var r=n("./src/js/print.js");f.default={print:function(s,m){s.printableElement=document.createElement("div"),s.printableElement.setAttribute("style","width:100%"),s.printableElement.innerHTML=s.printable,r.default.send(s,m)}}},"./src/sass/index.scss":function(c,f,n){},0:function(c,f,n){c.exports=n("./src/index.js")}}).default})})(A);var W=A.exports;const R=L(W),N={class:"p-5"},H={id:"barcodePrintDom",class:"border border-gray-300 p-5 rounded"},K={class:"flex flex-col gap-2.5"},z={class:"flex gap-2.5"},J={class:"flex gap-2.5"},F={__name:"MyPrintJS",setup(x){const P=D("TX-2024-001"),c=D("王小明"),f=()=>{R({printable:"barcodePrintDom",type:"html",targetStyle:["*"],header:'<h3 style="text-align: center; font-size: 20px">訂單編號資訊</h3>',scanStyles:!1})};return(n,r)=>(C(),T("div",N,[r[2]||(r[2]=y("h1",{class:"text-center"},"Print.js 功能展示",-1)),r[3]||(r[3]=y("div",{class:"bg-gray-100 p-4 rounded-lg mb-5"},[y("p",{class:"mb-4"},"請點擊下方按鈕列印訂單資訊"),y("ul",{class:"pl-5 text-gray-600 space-y-6 list-disc"},[y("li",null,"點擊按鈕後，會開啟瀏覽器列印功能，列印出訂單資訊"),y("li",null,"列印的內容會包含訂單編號、客戶姓名和自定義的 Header")])],-1)),y("div",{class:"mb-5"},[y("button",{onClick:f,class:"print-btn"},"列印訂單資訊")]),y("div",H,[y("div",K,[y("div",z,[r[0]||(r[0]=y("span",{class:"font-bold"},"訂單編號：",-1)),y("span",null,j(P.value),1)]),y("div",J,[r[1]||(r[1]=y("span",{class:"font-bold"},"客戶姓名：",-1)),y("span",null,j(c.value),1)])])])]))}},V=`// 使用 npm 安裝
npm install print-js

// 在元件中引入
import print from 'print-js'`,X=`// 基本列印 HTML 元素
print({
  printable: 'elementId',
  type: 'html',
  targetStyle: ['*'],
  header: '<h3>列印標題</h3>',
  scanStyles: false
})`,$=`// 進階列印選項
print({
  printable: 'printArea',
  type: 'html',
  targetStyles: ['*'],  // 包含所有樣式
  style: '.custom-class { color: red }',  // 自訂樣式
  header: '<h3>自訂標題</h3>',
  footer: '<div>頁尾資訊</div>',
  maxWidth: 800,
  font: 'Arial',
  font_size: '12pt',
  honorMarginPadding: true,
  honorColor: true,
  scanStyles: true
})`,_=`// 列印 PDF
print({
  printable: 'path/to/document.pdf',
  type: 'pdf'
})

// 列印圖片
print({
  printable: 'path/to/image.jpg',
  type: 'image'
})

// 列印 JSON 資料
print({
  printable: [
    { 訂單編號：'TX-001', 客戶：'王小明' },
    { 訂單編號：'TX-002', 客戶：'李小華' }
  ],
  properties: ['訂單編號', '客戶'],
  type: 'json'
})`,Z={__name:"ExplainPrintJS",setup(x){return(P,c)=>(C(),T("div",null,[c[0]||(c[0]=y("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Print.js 使用說明",-1)),c[1]||(c[1]=y("p",{class:"mb-6 text-gray-700"}," Print.js 是一個小巧但功能強大的 JavaScript 列印工具，可以輕鬆列印 HTML 元素、PDF、圖片和 JSON 資料。 ",-1)),c[2]||(c[2]=y("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"安裝與設定",-1)),S(M,null,{default:O(()=>[w(j(V))]),_:1}),c[3]||(c[3]=B('<h2 class="text-2xl font-semibold text-gray-800 mb-4">主要選項說明</h2><div class="overflow-x-auto mb-6"><table class="w-full text-left border border-gray-300"><thead><tr><th class="p-4 bg-gray-100 border-b border-gray-300">選項</th><th class="p-4 bg-gray-100 border-b border-gray-300">類型</th><th class="p-4 bg-gray-100 border-b border-gray-300">說明</th></tr></thead><tbody><tr><td class="p-4 border-b border-gray-300">printable</td><td class="p-4 border-b border-gray-300">String | Array</td><td class="p-4 border-b border-gray-300">要列印的元素 ID 或資料</td></tr><tr><td class="p-4 border-b border-gray-300">type</td><td class="p-4 border-b border-gray-300">String</td><td class="p-4 border-b border-gray-300"> 列印類型：&#39;html&#39;、&#39;pdf&#39;、&#39;image&#39;、&#39;json&#39; </td></tr><tr><td class="p-4 border-b border-gray-300">header</td><td class="p-4 border-b border-gray-300">String</td><td class="p-4 border-b border-gray-300">列印頁面的標題 HTML</td></tr><tr><td class="p-4 border-b border-gray-300">targetStyle</td><td class="p-4 border-b border-gray-300">Array</td><td class="p-4 border-b border-gray-300">要包含的 CSS 選擇器</td></tr><tr><td class="p-4 border-b border-gray-300">scanStyles</td><td class="p-4 border-b border-gray-300">Boolean</td><td class="p-4 border-b border-gray-300"> 是否掃描並包含頁面中的樣式 </td></tr></tbody></table></div><h2 class="text-2xl font-semibold text-gray-800 mb-4">使用範例</h2><h3 class="text-xl font-semibold text-gray-800 mb-2">基本用法</h3>',4)),S(M,null,{default:O(()=>[w(j(X))]),_:1}),c[4]||(c[4]=y("h3",{class:"text-xl font-semibold text-gray-800 mb-2"},"進階選項",-1)),S(M,null,{default:O(()=>[w(j($))]),_:1}),c[5]||(c[5]=y("h3",{class:"text-xl font-semibold text-gray-800 mb-2"},"其他列印類型",-1)),S(M,null,{default:O(()=>[w(j(_))]),_:1}),c[6]||(c[6]=y("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"注意事項",-1)),c[7]||(c[7]=y("ul",{class:"list-disc list-inside space-y-2 text-gray-700"},[y("li",null,"確保要列印的元素有唯一的 ID"),y("li",null,"如果要列印樣式，建議設定 targetStyle: ['*']"),y("li",null,"列印 PDF 時需要確保瀏覽器支援 PDF 預覽"),y("li",null,"列印 JSON 資料時需要指定要顯示的屬性")],-1))]))}},Y={__name:"PrintJsView",setup(x){return(P,c)=>(C(),T(U,null,[S(F),S(Z)],64))}};export{Y as default};
